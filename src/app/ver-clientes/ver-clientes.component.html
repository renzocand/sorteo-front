<div class="container  mt-3 mb-5">
    <div class="row">

        <div class="col-12" >
            <p-table #dt1 [value]="clientes" dataKey="id" [globalFilterFields]="['nroRifa', 'nombre', 'ciudad', 'dni']" [loading]="loading">
                <ng-template pTemplate="caption">
                    <input pInputText type="text" (input)="dt1.filterGlobal($event.target.value, 'contains')" placeholder="Buscar" />
                </ng-template>

                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="nroRifa">Nro<p-sortIcon field="nroRifa"></p-sortIcon></th>
                        <th pSortableColumn="nombre">Nombre<p-sortIcon field="nombre"></p-sortIcon></th>
                        <th *ngIf="isAdmin" pSortableColumn="dni">DNI<p-sortIcon field="dni"></p-sortIcon></th>
                        <th pSortableColumn="provincia">Provincia<p-sortIcon field="provincia"></p-sortIcon></th>
                        <th pSortableColumn="distrito">Distrito<p-sortIcon field="departadistritomento"></p-sortIcon></th>
                        <!-- <th pSortableColumn="fechaCreada">Registro<p-sortIcon field="fechaCreada"></p-sortIcon></th> -->
                        <th>
                            <p-columnFilter type="boolean" field="pagado"></p-columnFilter>
                        </th>
                        <th *ngIf="isAdmin"></th>
                    
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-car>
                    <tr>
                        <td>{{car.nroRifa}}</td>
                        <td>{{car.nombre}}</td>
                        <td *ngIf="isAdmin">{{car.dni}}</td>
                        <td>{{car.provincia}}</td>
                        <td>{{car.distrito}}</td>
                        <!-- <td>{{car.fechaCreada}}</td> -->
                        <td class="p-text-center">
                            <i class="pi" [ngClass]="{'true-icon pi-check-circle': car.pagado, 'false-icon pi-times-circle': !car.pagado}"></i>
                        </td>
                        <td *ngIf="isAdmin">
                            <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success p-mr-2" (click)="abrirModal(car)"></button>
                            <!-- <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="deleteProduct(product)"></button> -->
                        </td>
                    </tr>
                </ng-template>
            </p-table>            
        </div>


        <p-dialog *ngIf="clienteEscogido && isAdmin" [header]="clienteEscogido.nombre + ' (' + clienteEscogido.nroRifa + ')' " [(visible)]="displayBasic" [style]="{width: '50vw'}" [baseZIndex]="10000">

            <h5>Rifa</h5>
            <p-selectButton [options]="stateOptions" [(ngModel)]="clienteEscogido.pagado" optionLabel="label" optionValue="value"></p-selectButton>


            <ng-template pTemplate="footer">
                <p-button icon="pi pi-check" (click)="editarCliente(clienteEscogido)" label="Editar" styleClass="p-button-text"></p-button>
            </ng-template>
        </p-dialog>


        <!-- <p-dialog [(visible)]="productDialog" [style]="{width: '450px'}" header="Product Details" [modal]="true" styleClass="p-fluid">
            <ng-template pTemplate="content">
                <img [src]="'assets/showcase/images/demo/product/' + product.image" [alt]="product.image" class="product-image" *ngIf="product.image">
                <div class="p-field">
                    <label for="name">Name</label>
                    <input type="text" pInputText id="name" [(ngModel)]="product.name" required autofocus />
                    <small class="p-invalid" *ngIf="submitted && !product.name">Name is required.</small>
                </div>
                <div class="p-field">
                    <label for="description">Description</label>
                    <textarea id="description" pInputTextarea [(ngModel)]="product.description" required rows="3" cols="20"></textarea>
                </div>
                <div class="p-field">
                    <label for="inventoryStatus">Inventory Status</label>
                    <p-dropdown [(ngModel)]="product.inventoryStatus" inputId="inventoryStatus" [options]="statuses" placeholder="Select">
                        <ng-template let-option pTemplate="item">
                            <span [class]="'product-badge status-' + option.value">{{option.label}}</span>
                        </ng-template>
                    </p-dropdown>
                </div>
        
                <div class="p-field">
                    <label class="p-mb-3">Category</label>
                    <div class="p-formgrid p-grid">
                        <div class="p-field-radiobutton p-col-6">
                            <p-radioButton id="category1" name="category" value="Accessories" [(ngModel)]="product.category"></p-radioButton>
                            <label for="category1">Accessories</label>
                        </div>
                        <div class="p-field-radiobutton p-col-6">
                            <p-radioButton id="category2" name="category" value="Clothing" [(ngModel)]="product.category"></p-radioButton>
                            <label for="category2">Clothing</label>
                        </div>
                        <div class="p-field-radiobutton p-col-6">
                            <p-radioButton id="category3" name="category" value="Electronics" [(ngModel)]="product.category"></p-radioButton>
                            <label for="category3">Electronics</label>
                        </div>
                        <div class="p-field-radiobutton p-col-6">
                            <p-radioButton id="category4" name="category" value="Fitness" [(ngModel)]="product.category"></p-radioButton>
                            <label for="category4">Fitness</label>
                        </div>
                    </div>
                </div>
        
                <div class="p-formgrid p-grid">
                    <div class="p-field p-col">
                        <label for="price">Price</label>
                        <p-inputNumber id="price" [(ngModel)]="product.price" mode="currency" currency="USD" locale="en-US"></p-inputNumber>
                    </div>
                    <div class="p-field p-col">
                        <label for="quantity">Quantity</label>
                        <p-inputNumber id="quantity" [(ngModel)]="product.quantity"></p-inputNumber>
                    </div>
                </div>
            </ng-template>
            
            <ng-template pTemplate="footer">
                <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
                <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="saveProduct()"></button>
            </ng-template>
        </p-dialog>
        
        <p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog> -->


    </div>
</div>

